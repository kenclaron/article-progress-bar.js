/****************************\
| Article Progress Bar       |
| version: 1.0               |
|                            |
| author: KenClaron          |
| website: kenclaron.ru      |
\****************************/
console.info("[article-progress-bar.js] Version - 1.0");class ArticleProgressBar{constructor(heightActive="4px",heightContainer="4px",colorActive="#f23232",colorContainer="#f2f2f2",mobile=!0){this.settings={height:{active:heightActive,container:heightContainer},color:{active:colorActive,container:colorContainer},mobile:mobile};this.Create(this.settings)}
Create(settings)
{let container=document.createElement("div");container.id="article-progress-bar-container";let active=document.createElement("div");active.id="article-progress-bar-active";container.style.position="fixed";container.style.top=0;container.style.width="100%";container.style.zIndex="1000000000";container.style.height=settings.height.container;container.style.backgroundColor=settings.color.container;active.style.position="fixed";active.style.top=0;active.style.height=settings.height.active;active.style.backgroundColor=settings.color.active;let that=this;if(settings.mobile)
{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){container.style.display="block";window.addEventListener("scroll",function(){that.EventScroll(active)});window.addEventListener("resize",function(){that.EventScroll(active)});window.addEventListener("orientationchange",function(){that.EventScroll(active)});window.addEventListener("load",function(){that.EventScroll(active);container.append(active);document.body.append(container)})}
else{container.style.display="none"}}
else{window.addEventListener("scroll",function(){that.EventScroll(active)});window.addEventListener("resize",function(){that.EventScroll(active)});window.addEventListener("load",function(){that.EventScroll(active);container.append(active);document.body.append(container)})}
return!0}
EventScroll(active=document.getElementById("article-progress-bar-activity"))
{active.style.width=this.GetScrollPercent()+"%";return!0}
GetScrollPercent()
{let h=document.documentElement;let b=document.body;let perc=(h.scrollTop||b.scrollTop)/((h.scrollHeight-h.clientHeight||b.scrollHeight-b.clientHeight))*100;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){if(window.innerHeight>window.innerWidth){return perc+(3.25*perc/100)}
else{return perc+(6*perc/100)}}
else{return perc}}
Destroy()
{document.getElementById("article-progress-bar-container").remove();document.getElementById("article-progress-bar-active").remove();return!0}}